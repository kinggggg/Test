<html>
<head>
  <meta charset="utf-8">
  <title>HelloWorld</title>
</head>
<body>

<svg>
</svg>

<script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
<script>

  // 线性比例尺
  // var dataset = [1.2, 2.3, 0.9, 1.5, 3.3];
  // var min = d3.min(dataset);
  // var max = d3.max(dataset);
  //
  // var linear = d3.scale.linear()
  //         .domain([min, max])
  //         .range([0, 300]);
  //
  // linear(0.9);    //返回
  // console.info(linear(0.9))
  // linear(2.3);    //返回 175
  // console.info(linear(2.3))
  // linear(3.3);    //返回 300

  // 序数比例尺
  // var index = [0, 1, 2, 3, 4];
  // var color = ["red", "blue", "green", "yellow", "black"];
  // var ordinal = d3.scale.ordinal()
  //         .domain(index)
  //         .range(color);
  //
  // ordinal(0); //返回 red
  // console.info(ordinal(0))
  // ordinal(2); //返回 green
  // ordinal(4); //返回 black

  // 给柱形图添加比例尺
  var dataset = [ 2.5 , 2.1 , 1.7 , 1.3 , 0.9 ];
  var linear = d3.scale.linear()
          .domain([0, d3.max(dataset)])
          .range([0, 250]);
  var rectHeight = 25;   //每个矩形所占的像素高度(包括空白)
  var svg = d3.select("svg")
  svg.selectAll("rect")
          .data(dataset)
          .enter()
          .append("rect")
          .attr("x",20)
          .attr("y",function(d,i){
            return i * rectHeight;
          })
          .attr("width",function(d){
            return linear(d);   //在这里用比例尺
          })
          .attr("height",rectHeight-2)
          .attr("fill","steelblue");


</script>

</body>
</html>
